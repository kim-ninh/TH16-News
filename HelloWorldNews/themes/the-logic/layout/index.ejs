<%- css('./css/index.css') %>

<div id="hot-article" class="my-5">
    <!-- NỔI BẬT -->
    <div class="h3">NỔI BẬT</div>
    <div class="row ">
        <div class="col-lg-8 pr-1">
            <div class="bd-example">
                <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                        <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                        <% site.posts.forEach((post, index) => { %>
                        <% if (index < 3) { %>
                        <div class="carousel-item <% if (index === 0) { %> <%= 'active' %> <% } %>">
                            <img data-src="<%- post.head_img %>" class="d-block w-100 lazyload" height="600"
                                alt="...">
                            <div class="carousel-caption d-md-block">
                                <h6 class="text-light font-weight-light">
                                    <a href="<%- post.categories.data[0].path %>" class="badge badge-primary mr-3"><%- post.categories.data[0].name %></a>
                                    <%- post.date.format(config.date_format) %>
                                </h6>
                                <a href="<%- post.path %>" class="text-light">
                                    <h3><%- post.title %></h3>
                                </a>
                            </div>
                        </div>
                        <% } %>
                        <% }); %>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 pl-1 d-flex flex-column justify-content-between align-content-stretch">
            <% site.posts.forEach((post, index) => { %>
            <% if ((index < 5) && (index > 2)) { %>
            <div class="trending-item">
                <img data-src="<%- post.head_img %>" class="lazyload w-100" alt="">
                <div class="trending-caption">
                    <h6 class="text-light font-weight-light">
                        <a href="<%- post.categories.data[0].path %>" class="badge badge-info mr-3"><%- post.categories.data[0].name %></a>
                        <%- post.date.format(config.date_format) %>
                    </h6>
                    <a href="<%- post.path %>" class="text-light">
                        <h5><%- post.title %></h5>
                    </a>
                </div>
            </div>
            <% } %>
            <% }); %>
        </div>
    </div>
</div>

<div class="row my-5">

    <div class="col-lg-4">
        <!-- MỚI NHẤT -->
        <div id="newest">
            <div class="h3">MỚI NHẤT</div>
            <ul class="list-group list-group-flush">
                <% site.posts.forEach((post, index) => { %>
                <% if (index < 10) { %>
                
                <li class="list-group-item">
                    <div class="media">
                        <img data-src="<%- post.head_img %>" class="align-self-center mr-3 lazyload"
                            alt="...">
                        <div class="media-body align-self-center">
                            <a href="<%- post.path %>" class="text-dark">
                                <h6><%- post.title %></h6>
                            </a>

                            <h6 class="card-subtitle mt-2 text-muted">
                                <a href="<%- post.categories.data[0].path %>" class="badge badge-primary mr-3"><%- post.categories.data[0].name %></a>
                                <%- post.date.format(config.date_format) %>
                            </h6>
                        </div>
                    </div>
                </li>

                <% } %>
                <% }); %>
            </ul>
        </div>
    </div>

    <div class="col-lg-8">
        <!-- XEM NHIỀU -->
        <div id="most-viewed">
            <div class="h3">XEM NHIỀU</div>
            <% site.posts.forEach((post, index) => { %>
            <% if (index < 10) { %>
            <div class="card mb-3">
                <div class="row no-gutters align-items-center">
                    <div class="col-md-4">
                        <div class="img-cont">
                            <%# 458 x 300 %>
                            <img data-src="<%- post.head_img %>" class="card-img lazyload" alt="...">
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h6 class="card-subtitle mb-2 text-muted">
                                <a href="<%- post.categories.data[0].path %>" class="badge badge-primary mr-3"> <%- post.categories.data[0].name %> </a>
                                <%- post.date.format(config.date_format) %>
                            </h6>
                            <a href="<%- post.path %>" class="text-dark">
                                <h5 class="card-title"> <%- post.title %> </h5>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <% } %>
            <% }); %>

        </div>
    </div>
</div>


<!-- TOP 10 CHUYÊN MỤC -->
<div id="top-10" class="my-5">
    <div class="h3">TOP 10 CHUYÊN MỤC</div>

    <%# javascript forEach callback function: 
    https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach %>
    <div class="card-group">
        <% site.posts.forEach(function (post, index) { %>
        <% if (index < 10) { %>
        <div class="card">
            <div class="img-cont">
                <img data-src="<%- post.head_img %>" class="card-img-top lazyload" alt="...">
            </div>
            <div class="card-body">
                <h6 class="card-subtitle mb-2 text-muted">
                    <a href="<%- post.categories.data[0].path %>" class="badge badge-primary mr-3">
                        <%- post.categories.data[0].name %> </a>
                    <%- post.date.format(config.date_format) %>
                </h6>
                <a href="<%- post.path %>" class="text-dark">
                    <h5 class="card-title"><%- post.title %></h5>
                </a>
            </div>
        </div>
        <% } %>
        <% }) %>
    </div>
</div>